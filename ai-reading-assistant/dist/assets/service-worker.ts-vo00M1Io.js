console.log("AI Reading Assistant Service Worker loaded");chrome.runtime.onInstalled.addListener(e=>{console.log("AI Reading Assistant installed:",e),chrome.storage.local.set({settings:{provider:"openai",apiKey:"",baseUrl:"",selectedUrls:[],apiConfigs:[],activeConfigId:"",incognitoMode:!1}})});chrome.runtime.onMessage.addListener((e,o,a)=>{var t;return e.type==="OPEN_SIDEPANEL"&&((t=o.tab)!=null&&t.windowId&&chrome.sidePanel.open({windowId:o.tab.windowId}).then(()=>{setTimeout(()=>{chrome.runtime.sendMessage({type:"OPEN_SIDEPANEL",payload:e.payload}).catch(()=>{})},500)}).catch(console.error),a({success:!0})),!0});self.addEventListener("activate",()=>{console.log("Service Worker activated")});
